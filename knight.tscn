[gd_scene load_steps=21 format=3 uid="uid://djgsammf8qp81"]

[ext_resource type="Script" path="res://knight.gd" id="1_146xs"]
[ext_resource type="PackedScene" uid="uid://dnaol20pgmvt8" path="res://base_character.tscn" id="1_ytoxj"]
[ext_resource type="Texture2D" uid="uid://q51popnfqrrp" path="res://Assets/knight-atk.png" id="3_itbhp"]
[ext_resource type="Texture2D" uid="uid://cs8xg53juo64o" path="res://Assets/knight_girl.png" id="3_jjbti"]

[sub_resource type="AtlasTexture" id="AtlasTexture_gfhv1"]
atlas = ExtResource("3_itbhp")
region = Rect2(0, 0, 356, 329)

[sub_resource type="AtlasTexture" id="AtlasTexture_5atxt"]
atlas = ExtResource("3_itbhp")
region = Rect2(356, 0, 356, 329)

[sub_resource type="AtlasTexture" id="AtlasTexture_l4d2u"]
atlas = ExtResource("3_itbhp")
region = Rect2(712, 0, 356, 329)

[sub_resource type="AtlasTexture" id="AtlasTexture_cpjat"]
atlas = ExtResource("3_itbhp")
region = Rect2(1068, 0, 356, 329)

[sub_resource type="AtlasTexture" id="AtlasTexture_btkm4"]
atlas = ExtResource("3_jjbti")
region = Rect2(277, 0, 277, 312)

[sub_resource type="AtlasTexture" id="AtlasTexture_ypots"]
atlas = ExtResource("3_jjbti")
region = Rect2(554, 0, 277, 312)

[sub_resource type="AtlasTexture" id="AtlasTexture_5knwt"]
atlas = ExtResource("3_jjbti")
region = Rect2(277, 312, 277, 312)

[sub_resource type="AtlasTexture" id="AtlasTexture_61ejf"]
atlas = ExtResource("3_jjbti")
region = Rect2(554, 312, 277, 312)

[sub_resource type="AtlasTexture" id="AtlasTexture_4gig1"]
atlas = ExtResource("3_jjbti")
region = Rect2(554, 624, 277, 312)

[sub_resource type="SpriteFrames" id="SpriteFrames_bc8bo"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_gfhv1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5atxt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l4d2u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cpjat")
}],
"loop": true,
"name": &"Attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_btkm4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ypots")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5knwt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_61ejf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4gig1")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}]

[sub_resource type="LabelSettings" id="LabelSettings_82tws"]
outline_size = 4
outline_color = Color(0, 0, 0, 1)

[sub_resource type="Animation" id="Animation_ebnwn"]
length = 0.75
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Label:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1.5, 1.5)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Label:self_modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Label:label_settings:outline_color")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_fqeth"]
resource_name = "popup"
length = 0.75
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Label:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1.5, 1.5), Vector2(1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Label:self_modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.55, 0.75),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 0, 0, 1), Color(1, 1, 1, 0)]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.75),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"queue_free"
}]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Label:label_settings:outline_color")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.75),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 1), Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_5vsmd"]
resource_name = "popup_2"
length = 0.75
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Label:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1.1, 1.1), Vector2(2, 2), Vector2(1.1, 1.1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Label:self_modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.55, 0.75),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 0.982552, 0.979539, 1), Color(0, 0.984314, 0, 1), Color(1, 1, 1, 0)]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.75),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"queue_free"
}]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Label:label_settings:outline_color")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.75),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0.980525, 0.880215, 0.20091, 1), Color(0.980525, 0.880215, 0.20091, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_655mc"]
_data = {
"RESET": SubResource("Animation_ebnwn"),
"popup": SubResource("Animation_fqeth"),
"popup_heal": SubResource("Animation_5vsmd")
}

[sub_resource type="PackedScene" id="PackedScene_lrfor"]
_bundled = {
"conn_count": 0,
"conns": PackedInt32Array(),
"editable_instances": [],
"names": PackedStringArray("SkillPopupName", "z_index", "Marker2D", "Label", "self_modulate", "texture_filter", "anchors_preset", "anchor_left", "anchor_top", "anchor_right", "anchor_bottom", "offset_left", "offset_top", "offset_right", "offset_bottom", "grow_horizontal", "grow_vertical", "scale", "text", "label_settings", "horizontal_alignment", "vertical_alignment", "AnimationPlayer", "libraries", "autoplay"),
"node_count": 3,
"node_paths": [],
"nodes": PackedInt32Array(-1, -1, 2, 0, -1, 1, 1, 0, 0, 0, 0, 3, 3, -1, 18, 4, 1, 5, 2, 6, 3, 7, 4, 8, 4, 9, 4, 10, 4, 11, 5, 12, 6, 13, 7, 14, 8, 15, 9, 16, 9, 17, 10, 18, 11, 19, 12, 20, 2, 21, 2, 0, 0, 0, 22, 22, -1, 2, 23, 13, 24, 14, 0),
"variants": [20, Color(1, 1, 1, 0), 1, 8, 0.5, -20.0, -11.5, 20.0, 11.5, 2, Vector2(1.5, 1.5), "50", SubResource("LabelSettings_82tws"), {
"": SubResource("AnimationLibrary_655mc")
}, "RESET"],
"version": 3
}

[node name="Knight" groups=["PlayerCharacters"] instance=ExtResource("1_ytoxj")]
z_index = 10
position = Vector2(146, 79)
script = ExtResource("1_146xs")
knight_attack_damage = 85
knight_defense = 10
knight_move_speed = 60
knight_max_health = 300
knight_attack_cooldown = 1.0
current_item = null

[node name="KnightSprite" type="AnimatedSprite2D" parent="." index="0"]
z_index = 10
scale = Vector2(0.2, 0.2)
sprite_frames = SubResource("SpriteFrames_bc8bo")
animation = &"Attack"
autoplay = "Idle"

[node name="HP" parent="." index="2"]
offset_left = -26.0
offset_top = -75.0
offset_right = 14.0
offset_bottom = -52.0

[node name="SkillPopup" parent="." index="9"]
skill_node = SubResource("PackedScene_lrfor")
